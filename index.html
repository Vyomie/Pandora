  <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Pandora - Unlock Your Curiosity</title>
     
     <!-- Load Tailwind CSS -->
     <script src="https://cdn.tailwindcss.com"></script>
     
     <!-- Load Google Fonts: Manrope (Headings) & Inter (Body) -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@600;800&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
     
     <!-- Load Three.js (for 3D animation) -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
 
     <style>
         /* ========================================
             PREMIUM STYLESHEET (v2 - EMERALD & GOLD)
             ========================================
             Palette:
             - BG: #051412 (Deep Emerald/Teal)
             - Text: #F4F1E9 (Warm Beige/White)
             - Accent 1: #D79A3D (Rich Gold/Amber)
             - Accent 2: #5EEBCC (Bright Mint)
             - Card BG: rgba(10, 30, 28, 0.5) (Dark Glass)
         */
 
         /* 1. Base & Typography */
         html {
             scroll-behavior: smooth; 
         }
         
         body {
             font-family: 'Inter', sans-serif;
             background-color: #051412;
             color: #F4F1E9;
             overflow-x: hidden;
             /* Define CSS variables for the glow */
             --glow-x: 50%;
             --glow-y: 50%;
             --glow-color: rgba(215, 154, 61, 0.1);
             padding-bottom: env(safe-area-inset-bottom);
         }
 
         /* 2. Background "Aurora" Effect (New) */
         body::before {
             content: '';
             position: fixed;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             pointer-events: none;
             z-index: 15;
             background: radial-gradient(
                 circle 800px at var(--glow-x) var(--glow-y),
                 var(--glow-color),
                 transparent 40%
             );
             animation: aurora-bg 15s ease-in-out infinite;
             transition: --glow-x 0.2s ease-out, --glow-y 0.2s ease-out, --glow-color 0.5s ease;
         }
 
         @keyframes aurora-bg {
             0% {
                 background: radial-gradient(circle 800px at 20% 30%, rgba(215, 154, 61, 0.1), transparent 40%),
                             radial-gradient(circle 600px at 80% 70%, rgba(94, 235, 204, 0.08), transparent 50%);
             }
             50% {
                 background: radial-gradient(circle 800px at 80% 50%, rgba(215, 154, 61, 0.12), transparent 40%),
                             radial-gradient(circle 600px at 20% 90%, rgba(94, 235, 204, 0.1), transparent 50%);
             }
             100% {
                 background: radial-gradient(circle 800px at 20% 30%, rgba(215, 154, 61, 0.1), transparent 40%),
                             radial-gradient(circle 600px at 80% 70%, rgba(94, 235, 204, 0.08), transparent 50%);
             }
         }
 
 
         /* 3. Cursor Spotlight */
         #cursor-spotlight {
             position: fixed;
             top: 0;
             left: 0;
             width: 500px;
             height: 500px;
             border-radius: 50%;
             background: radial-gradient(
                 circle,
                 rgba(215, 154, 61, 0.06) 0%,
                 transparent 60%
             );
             pointer-events: none;
             z-index: 25; /* Above content */
             transform: translate(-50%, -50%);
             transition: transform 0.1s ease-out;
             opacity: 0;
         }
         body:hover #cursor-spotlight { opacity: 1; }
 
         /* Custom Scrollbar */
         body::-webkit-scrollbar {
             width: 8px;
         }
         body::-webkit-scrollbar-track {
             background: #0A221F;
         }
         body::-webkit-scrollbar-thumb {
             background-color: #D79A3D;
             border-radius: 8px;
             border: 2px solid #0A221F;
         }
 
         h1, h2, h3, h4, .font-heading {
             font-family: 'Manrope', sans-serif;
             font-weight: 800;
             letter-spacing: -0.03em;
         }
         
         ::selection {
             background-color: #D79A3D;
             color: #051412;
         }
 
         /* 4. 3D Canvas */
         #three-canvas {
             position: fixed;
             top: 0;
             left: 0;
             width: 100%;
             height: 100vh;
             z-index: 10;
             pointer-events: none; 
         }
 
         /* 5. Page Structure */
         .story-section {
             min-height: 100vh; 
             width: 100%;
             position: relative;
             z-index: 20; /* Above 3D canvas and glow */
             display: flex;
             align-items: center;
             justify-content: center;
             padding: 0 24px;
         }
         
         #scroll-container {
             position: relative;
             z-index: 20;
             width: 100%;
         }
 
         /* 6. Horizontal Scroll Section */
         #horizontal-container {
             height: 500vh; /* 100vh for each of the 5 slides */
             position: relative;
             width: 100%;
             z-index: 20;
         }
 
         .horizontal-sticky-wrapper {
             position: sticky;
             top: 0;
             height: 100vh;
             width: 100%;
             overflow: hidden;
         }
 
         .horizontal-content {
             display: flex;
             width: 500%; /* 5 slides */
             height: 100%;
         }
 
         .horizontal-slide {
             width: 100%; /* Each slide is 1/5 of the content width */
             height: 100%;
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: center;
             padding: 48px;
         }
 
         /* 7. Premium Buttons & Links */
         .btn-primary {
             display: inline-block;
             border-radius: 99px;
             font-weight: 600;
             padding: 14px 32px;
             text-align: center;
             color: #051412;
             transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
             position: relative;
             overflow: hidden;
             z-index: 1;
             /* New Gradient BG */
             background-image: linear-gradient(to right, #D79A3D 0%, #F0B971 100%);
             background-size: 200% auto;
             box-shadow: 0 5px 20px rgba(215, 154, 61, 0.3);
         }
         /* Shimmer effect */
         .btn-primary::after {
             content: '';
             position: absolute;
             top: -50%;
             left: -50%;
             width: 200%;
             height: 200%;
             background: linear-gradient(
                 to right,
                 transparent 0%,
                 rgba(255, 255, 255, 0.4) 50%,
                 transparent 100%
             );
             transform: translateX(-100%) rotate(30deg);
             transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
             z-index: -1;
         }
         .btn-primary:hover::after {
             transform: translateX(100%) rotate(30deg);
         }
         .btn-primary:hover {
             transform: translateY(-4px);
             background-position: right center;
             box-shadow: 0 8px 30px rgba(215, 154, 61, 0.4);
         }
         
         .nav-link {
             position: relative;
             color: #F4F1E9;
             text-decoration: none;
             transition: color 0.3s ease;
         }
         .nav-link::after {
             content: '';
             position: absolute;
             width: 100%;
             height: 2px;
             bottom: -4px;
             left: 0;
             background-color: #D79A3D;
             transform: scaleX(0);
             transform-origin: center;
             transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
         }
         .nav-link:hover { color: white; }
         .nav-link:hover::after { transform: scaleX(1); }
 
         /* 8. UI Elements */
         .mock-prompt {
             background-color: #0A221F;
             border-radius: 12px;
             border: 1px solid rgba(215, 154, 61, 0.3);
             padding: 20px;
             font-family: 'Courier New', Courier, monospace;
             font-size: 1.1rem;
             color: #F4F1E9;
             box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
             min-height: 5rem;
         }
         
         #typing-cursor {
             width: 3px;
             height: 1.2rem;
             background-color: #D79A3D;
             display: inline-block;
             vertical-align: middle;
             animation: blink 0.7s infinite;
         }
         @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
         
         .app-screenshot {
             border-radius: 24px;
             border: 1px solid rgba(215, 154, 61, 0.3);
             box-shadow: 0 20px 60px -10px rgba(0, 0, 0, 0.5);
             max-height: 80vh;
             object-fit: contain;
             transition: all 0.5s ease;
         }
         .horizontal-slide:hover .app-screenshot { transform: scale(1.03); }
 
         .text-gradient {
             background-image: linear-gradient(to right, #D79A3D, #F0B971);
             -webkit-background-clip: text;
             background-clip: text;
             color: transparent;
         }
 
         .glass-header {
             background-color: rgba(5, 20, 18, 0.5); /* 051412 at 50% */
             backdrop-filter: blur(12px);
             -webkit-backdrop-filter: blur(12px);
             border-bottom: 1px solid rgba(215, 154, 61, 0.2);
         }
         
         /* 9. Scroll-into-view Animations */
         [data-scroll-anim] {
             opacity: 0;
             transform: translateY(30px);
             transition: opacity 1s cubic-bezier(0.23, 1, 0.32, 1), transform 1s cubic-bezier(0.23, 1, 0.32, 1);
             transition-delay: 0.2s;
         }
         [data-scroll-anim="header"] { transform: translateY(-20px); transition-delay: 0s; }
         [data-scroll-anim="visible"] { opacity: 1; transform: translateY(0); }
         [data-scroll-anim="hero-text"] { transition-delay: 0s; }
 
         /* 10. Interactive 3D Tilt Cards */
         .interactive-card {
             --rot-x: 0deg;
             --rot-y: 0deg;
             --glow-x: 50%;
             --glow-y: 50%;
             position: relative;
             transform: perspective(1000px) rotateX(var(--rot-x)) rotateY(var(--rot-y));
             transition: transform 0.1s ease-out;
             will-change: transform;
         }
         /* Card glow (follows mouse on card) */
         .interactive-card::before {
             content: '';
             position: absolute;
             top: 0; left: 0;
             width: 100%; height: 100%;
             background: radial-gradient(
                 circle 300px at var(--glow-x) var(--glow-y),
                 rgba(215, 154, 61, 0.15),
                 transparent 70%
             );
             border-radius: inherit;
             opacity: 0;
             transition: opacity 0.3s ease-out;
             z-index: -1;
         }
         .interactive-card:hover::before { opacity: 1; }
         
         /* 11. Feature Card Styles */
         .feature-card {
             background-color: rgba(10, 30, 28, 0.5); /* Dark Glass */
             backdrop-filter: blur(12px);
             -webkit-backdrop-filter: blur(12px);
             border: 1px solid rgba(215, 154, 61, 0.2);
             border-radius: 20px;
             padding: 2rem;
             box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
             z-index: 1;
         }
 
         .processing-dot {
             background-color: #D79A3D;
             display: inline-block; width: 10px; height: 10px; border-radius: 50%;
             animation: processing-blink 1.4s infinite both;
         }
         .processing-dot:nth-child(2) { animation-delay: 0.2s; }
         .processing-dot:nth-child(3) { animation-delay: 0.4s; }
         @keyframes processing-blink { 0%, 80%, 100% { opacity: 0; } 40% { opacity: 1; } }
 
         .video-card {
             background-color: #0A221F;
             border: 1px solid rgba(215, 154, 61, 0.3);
             border-radius: 12px;
             padding: 1rem;
             opacity: 0;
             transform: translateY(20px);
             transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
         }
         [data-scroll-anim="visible"] .video-card-1 { opacity: 1; transform: translateY(0); transition-delay: 0.3s; }
         [data-scroll-anim="visible"] .video-card-2 { opacity: 1; transform: translateY(0); transition-delay: 0.5s; }
         [data-scroll-anim="visible"] .video-card-3 { opacity: 1; transform: translateY(0); transition-delay: 0.7s; }
 
         .subject-card {
             background-color: rgba(10, 30, 28, 0.3);
             border: 1px solid rgba(215, 154, 61, 0.2);
             border-radius: 12px;
             padding: 2rem 1.5rem;
             text-align: center;
             transition: all 0.3s ease;
             position: relative;
             overflow: hidden;
         }
         .subject-card:hover {
             background-color: rgba(10, 30, 28, 0.7);
             border-color: #D79A3D;
             transform: scale(1.05);
         }
         .subject-card::before {
             content: '';
             position: absolute;
             top: 50%;
             left: 50%;
             width: 0;
             height: 0;
             background: radial-gradient(circle, rgba(215, 154, 61, 0.25) 0%, transparent 80%);
             border-radius: 50%;
             transform: translate(-50%, -50%);
             transition: width 0.4s ease, height 0.4s ease;
             z-index: 0;
         }
         .subject-card:hover::before {
             width: 200%;
             height: 200%;
         }
         .subject-card svg {
             stroke: #D79A3D;
             margin: 0 auto 1rem;
             transition: transform 0.3s ease;
             position: relative;
             z-index: 1;
         }
         .subject-card:hover svg {
             transform: scale(1.1);
         }
 
 
         /* 12. Text Hover Lift Animation */
         .text-hover-lift span {
             display: inline-block;
             transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1),
                         text-shadow 0.3s cubic-bezier(0.23, 1, 0.32, 1);
         }
         .text-hover-lift:hover span {
             transform: translateY(-0.1em) scale(1.05);
             text-shadow: 0 0.2em 0.5em rgba(215, 154, 61, 0.5);
         }
 
         /* NEW: Text Scramble Animation */
         .text-scramble {
             display: inline-block;
             position: relative;
             overflow: hidden;
         }
         .text-scramble .scramble-char {
             display: inline-block;
             animation: scramble-anim 1.5s ease-out forwards;
             animation-play-state: paused;
         }
         .text-scramble:hover .scramble-char {
             animation-play-state: running;
         }
         @keyframes scramble-anim {
             0% {
                 transform: translateY(-100%);
                 opacity: 0;
             }
             20% {
                 transform: translateY(0);
                 opacity: 1;
             }
             80% {
                 transform: translateY(0);
                 opacity: 1;
             }
             100% {
                 transform: translateY(100%);
                 opacity: 0;
             }
         }
 
         /* 13. "How it Works" Timeline */
         .timeline-container {
             position: relative;
             padding: 2rem 0;
         }
         /* The vertical line */
         .timeline-container::before {
             content: '';
             position: absolute;
             left: 24px;
             top: 0;
             bottom: 0;
             width: 3px;
             background-image: linear-gradient(to bottom, #D79A3D 0%, #5EEBCC 100%);
             border-radius: 2px;
             opacity: 0.3;
             /* New Animation */
             transform: scaleY(0);
             transform-origin: top;
         }
         [data-scroll-anim="visible"] .timeline-container::before {
             animation: draw-line 1s cubic-bezier(0.23, 1, 0.32, 1) 0.5s forwards;
         }
         @keyframes draw-line {
             from { transform: scaleY(0); }
             to { transform: scaleY(1); }
         }
 
         .timeline-item {
             position: relative;
             padding-left: 70px;
             margin-bottom: 3rem;
         }
         .timeline-item:last-child { margin-bottom: 0; }
         .timeline-icon {
             position: absolute;
             left: 0;
             top: 0;
             width: 50px;
             height: 50px;
             display: flex;
             align-items: center;
             justify-content: center;
             border-radius: 50%;
             background-color: #0A221F;
             border: 2px solid #D79A3D;
             color: #D79A3D;
             font-family: 'Manrope', sans-serif;
             font-size: 1.25rem;
             font-weight: 800;
             /* New Animation */
             animation: pulse-icon 2s infinite 1s;
         }
         @keyframes pulse-icon {
             0% { box-shadow: 0 0 0 0 rgba(215, 154, 61, 0.4); }
             70% { box-shadow: 0 0 0 10px rgba(215, 154, 61, 0); }
             100% { box-shadow: 0 0 0 0 rgba(215, 154, 61, 0); }
         }
 
 
         /* 14. Redesigned Register Section */
         #register-card {
             background-color: rgba(10, 30, 28, 0.5); /* Dark Glass */
             backdrop-filter: blur(16px);
             -webkit-backdrop-filter: blur(16px);
             border: 1px solid rgba(215, 154, 61, 0.2);
             border-radius: 24px;
             padding: 3rem 2rem;
             box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
             width: 100%;
             max-width: 600px;
             text-align: center;
         }
         #email-input {
             background-color: rgba(5, 20, 18, 0.7); /* Darker BG */
             border: 1px solid rgba(215, 154, 61, 0.3);
             color: #F4F1E9;
             transition: all 0.3s ease;
         }
         #email-input:focus {
             background-color: #0A221F;
             border-color: #D79A3D;
             box-shadow: 0 0 15px rgba(215, 154, 61, 0.3);
         }
         #register-form .btn-primary {
             width: 100%;
         }
         @media (min-width: 640px) {
             #register-form .btn-primary { width: auto; }
             #register-card { padding: 4rem 3rem; }
         }
 
         .body-bg-pattern {
             background-image: radial-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px);
             background-size: 20px 20px;
             animation: bg-pan 60s linear infinite;
         }
 
         @keyframes bg-pan {
             from {
                 background-position: 0% 0%;
             }
             to {
                 background-position: 100% 100%;
             }
         }
 
     </style>
 </head>
 <body>
     
     <!-- NEW: Cursor Spotlight Div -->
     <div id="cursor-spotlight"></div>
 
     <!-- 3D Canvas (Fixed) -->
     <div id="three-canvas"></div>
 
     <!-- Header / Navigation (Fixed & Upgraded) -->
     <header class="fixed top-0 left-0 right-0 z-50 glass-header" data-scroll-anim="header">
         <nav class="container mx-auto max-w-7xl px-6 py-5 flex justify-between items-center">
             <!-- Logo -->
             <a href="#" class="flex items-center space-x-3 interactive-card" style="--rot-x: 0deg; --rot-y: 0deg;">
                 <!-- Using original image logic -->
                 <img src="WhatsApp Image 2025-11-03 at 17.26.18_355a5f6c.jpg" 
                      alt="Pandora Logo" class="h-10 w-10 rounded-lg"
                      onerror="this.src='https://placehold.co/40x40/D79A3D/051412?text=P'; this.onerror=null;">
                 <span class="text-3xl font-bold text-white">Pandora</span>
             </a>
             
             <!-- NEW: Nav Links -->
             <div class="hidden md:flex space-x-8">
                 <a href="#section-pillar1" class="nav-link hidden md:inline">Features</a>
                 <a href="#section-how" class="nav-link hidden md:inline">How it Works</a>
                 <a href="#section-hub" class="nav-link hidden md:inline">App</a>
             </div>
 
             <!-- CTA Button -->
             <a href="#section-register" class="btn-primary">
                 Get Early Access
             </a>
         </nav>
     </header>
 
     <!--  
         Scroll container for the story.
     -->
     <div id="scroll-container">
 
         <!-- SECTION 1: The "Lock" (Hero) -->
         <section id="section-problem" class="story-section text-center">
             <canvas id="particle-canvas" class="absolute top-0 left-0 w-full h-full z-0"></canvas>
             <div class="max-w-4xl mx-auto" data-scroll-anim="hero-text">
                 <h1 class="text-6xl md:text-8xl font-extrabold text-white text-hover-lift" id="hero-text-1">
                     Complex concepts feel...
                     <span class="text-gradient" id="unlock-text">locked.</span>
                 </h1>
             </div>
         </section>
 
         <!-- SECTION 2: The "Key" (The Prompt) -->
         <section id="section-key" class="story-section">
             <div class="max-w-3xl w-full text-center" data-scroll-anim>
                 <h2 class="text-5xl md:text-7xl font-bold text-white mb-12 text-hover-lift">
                     You have the <span class="text-gradient">key.</span>
                 </h2>
                 <div class="mock-prompt">
                     <span id="prompt-text"></span>
                     <span id="typing-cursor"></span>
                 </div>
             </div>
         </section>
 
         <!-- SECTION 3: The "Unfolding" (The Animation) -->
         <section id="section-clarity" class="story-section text-center">
             <div class="max-w-4xl mx-auto" data-scroll-anim>
                 <h2 class="text-6xl md:text-8xl font-extrabold text-white">
                     From complexity...
                 </h2>
                 <h2 class="text-6xl md:text-8xl font-extrabold text-gradient">
                     ...to clarity.
                 </h2>
                 <!-- Manim graph screenshot -->
                 <img src="https://placehold.co/1200x600/051412/F4F1E9?text=Manim+Render:+Parabolas+&+Tangent" 
                      alt="Manim Graph Render"
                      class="w-full max-w-3xl mx-auto mt-12 rounded-lg border-2 border-gray-700 shadow-2xl"
                      id="manim-graph"
                      style="opacity: 0; transform: translateY(20px); transition: all 1s ease 0.5s;">
             </div>
         </section>
 
         <!-- SECTION 4: "Mission" (New) -->
         <section id="section-mission" class="story-section text-center">
             <div class="max-w-4xl mx-auto" data-scroll-anim>
                 <h2 class="text-5xl md:text-7xl font-bold text-white mb-8 text-hover-lift">
                     Learning, <span class="text-gradient">reimagined.</span>
                 </h2>
                 <p class="text-xl md:text-2xl text-gray-300 leading-relaxed">
                     Our mission is to empower students by providing them with personalized learning tools that adapt to their needs,
                     fostering a love for learning through truly interactive content.
                 </p>
             </div>
         </section>
 
        <!-- SECTION 5: "Pillar 1" (New) -->
        <section id="section-pillar1" class="story-section">
        <div class="container max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center" data-scroll-anim>
            
            <!-- Left Col: Text -->
            <div>
            <h2 class="text-4xl md:text-6xl font-bold text-white mb-6">
                AI-Powered Animation Generation
            </h2>
            <p class="text-lg text-gray-300">
                This innovative feature allows you to input any topic and receive a
                custom-generated animated video that explains the concept in a visually
                engaging format, powered by Manim.
            </p>
            </div>

            <!-- Right Col: Animation -->
            <div class="feature-card interactive-card">
            <div class="mock-prompt mb-4">
                <span class="text-gray-400">// Prompt</span><br>
                Visualize the Bernoulli's theorem...
            </div>


            <div class="w-full bg-black rounded-lg h-40 flex items-center justify-center overflow-hidden">
                <video autoplay muted loop playsinline class="w-full h-full object-cover rounded-lg">
                <source src="render.mp4" type="video/mp4">
                Your browser does not support the video tag.
                </video>
            </div>
            </div>

        </div>
        </section>

 
         <!-- SECTION 6: "Pillar 2" (New) -->
         <section id="section-pillar2" class="story-section">
             <div class="container max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center" data-scroll-anim>
                 <!-- Left Col: Animation (Order reversed for layout variety) -->
                 <div class="relative h-80 order-last md:order-first">
                     <div class="video-card video-card-1 absolute top-0 left-10 w-11/12">
                         <span class="text-sm text-gray-400">Physics 101</span>
                         <h4 class="text-white">Introduction to Forces</h4>
                     </div>
                     <div class="video-card video-card-2 absolute top-20 left-5 w-11/12">
                         <span class="text-sm text-gray-400">Calculus II</span>
                         <h4 class="text-white">Understanding Integrals</h4>
                     </div>
                     <div class="video-card video-card-3 absolute top-40 left-0 w-11/12">
                         <span class="text-sm text-gray-400">Computer Science</span>
                         <h4 class="text-white">Data Structures: Trees</h4>
                     </div>
                 </div>
                 <!-- Right Col: Text -->
                 <div class="order-first md:order-last">
                     <h2 class="text-4xl md:text-6xl font-bold text-white mb-6">
                         Curated Educational Library
                     </h2>
                     <p class="text-lg text-gray-300">
                         A comprehensive library of hand-picked YouTube videos and
                         educational content, organized by subject and chapter,
                         providing a wealth of high-quality resources.
                     </p>
                 </div>
             </div>
         </section>
         
         <!-- SECTION 7: "How it Works" (New) -->
         <section id="section-how" class="story-section">
             <div class="container max-w-2xl mx-auto" data-scroll-anim>
                 <h2 class="text-5xl md:text-7xl font-bold text-white mb-16 text-center text-hover-lift">
                     How it <span class="text-gradient">Works</span>
                 </h2>
                 <div class="timeline-container">
                     <!-- Item 1 -->
                     <div class="timeline-item">
                         <div class="timeline-icon">1</div>
                         <h3 class="text-2xl font-heading text-white mb-2">1. Your Prompt</h3>
                         <p class="text-gray-300">It all starts with your curiosity. Ask a question, paste a problem, or just type a concept.</p>
                     </div>
                     <!-- Item 2 -->
                     <div class="timeline-item">
                         <div class="timeline-icon">2</div>
                         <h3 class="text-2xl font-heading text-white mb-2">2. AI Analysis</h3>
                         <p class="text-gray-300">Our LLM-powered engine deconstructs your query, understanding the core concepts and steps needed for explanation.</p>
                     </div>
                     <!-- Item 3 -->
                     <div class="timeline-item">
                         <div class="timeline-icon">3</div>
                         <h3 class="text-2xl font-heading text-white mb-2">3. Manim Render</h3>
                         <p class="text-gray-300">We generate precise, accurate Manim render scripts, ensuring mathematical and physical laws are perfectly visualized.</p>
                     </div>
                     <!-- Item 4 -->
                     <div class="timeline-item">
                         <div class="timeline-icon">4</div>
                         <h3 class="text-2xl font-heading text-white mb-2">4. Your Animation</h3>
                         <p class="text-gray-300">A custom, interactive animated video is generated and delivered to you, ready to be explored.</p>
                     </div>
                 </div>
             </div>
         </section>
 
         <!-- SECTION 8: The "Tools" (Horizontal Scroll) - Upgraded to 5 slides -->
         <div id="horizontal-container">
             <div class="horizontal-sticky-wrapper">
                 <div class="horizontal-content">
                     
                     <!-- Slide 1: Intro to Tools -->
                     <div class="horizontal-slide">
                         <div class="max-w-2xl text-center" data-scroll-anim>
                             <h2 class="text-5xl md:text-7xl font-bold text-white">Your complete</h2>
                             <h2 class="text-5xl md:text-7xl font-bold text-gradient">learning hub.</h2>
                             <p class="text-xl text-gray-400 mt-8">
                                 Pandora isn't just a tool. It's your complete, personalized study platform.
                             </p>
                         </div>
                     </div>
                     
                     <!-- Slide 2: Builder -->
                     <div class="horizontal-slide">
                         <img src="Animation Builder.jpg" 
                              alt="Pandora AI Animation Builder" class="app-screenshot"
                              onerror="this.src='https://placehold.co/400x800/0A221F/F4F1E9?text=App+Builder+UI'; this.onerror=null;">
                          <p class="text-gray-400 text-lg mt-6 font-semibold">AI Animation Builder</p>
                     </div>
                     
                     <!-- Slide 3: Dashboard -->
                     <div class="horizontal-slide">
                          <img src="Dashboard.jpg" 
                              alt="Pandora Dashboard" class="app-screenshot"
                              onerror="this.src='https://placehold.co/400x800/0A221F/F4F1E9?text=App+Dashboard+UI'; this.onerror=null;">
                          <p class="text-gray-400 text-lg mt-6 font-semibold">Personalized Dashboard</p>
                     </div>
                     
                     <!-- Slide 4: Library -->
                     <div class="horizontal-slide">
                         <img src="Concept Library.jpg" 
                              alt="Pandora Concept Library" class="app-screenshot"
                              onerror="this.src='https://placehold.co/400x800/0A221F/F4F1E9?text=App+Library+UI'; this.onerror=null;">
                         <p class="text-gray-400 text-lg mt-6 font-semibold">Curated Concept Library</p>
                     </div>
 
                     <!-- Slide 5: Profile (New) -->
                     <div class="horizontal-slide">
                         <img src="Profile.jpg" 
                              alt="Pandora Profile Page" class="app-screenshot"
                              onerror="this.src='https://placehold.co/400x800/0A221F/F4F1E9?text=App+Profile+UI'; this.onerror=null;">
                         <p class="text-gray-400 text-lg mt-6 font-semibold">Track Your Progress</p>
                     </div>
                     
                 </div>
             </div>
         </div>
 
         <!-- SECTION 9: "Subjects" (New) -->
         <section id="section-subjects" class="story-section text-center">
             <div class="container max-w-5xl mx-auto" data-scroll-anim>
                 <h2 class="text-5xl md:text-7xl font-bold text-white mb-16 text-hover-lift">
                     Powering <span class="text-gradient">Every Learner.</span>
                 </h2>
                 <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                     <!-- Subject 1: Maths -->
                     <div class="subject-card interactive-card" style="transition-delay: 0.1s;">
                         <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 16c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM6 18c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM12 10c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM18 8c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM6 6c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM2 12h2M10 12h4M20 12h2M4 4l16 16M4 20L20 4"></path></svg>
                         <h3 class="text-2xl font-heading text-white">Maths</h3>
                     </div>
                     <!-- Subject 2: Physics -->
                     <div class="subject-card interactive-card" style="transition-delay: 0.2s;">
                         <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 100 20 10 10 0 000-20zM12 12a3 3 0 100 6 3 3 0 000-6zM4 12h.01M19.99 12h.01M12 4v.01M12 19.99v.01"></path></svg>
                         <h3 class="text-2xl font-heading text-white">Physics</h3>
                     </div>
                     <!-- Subject 3: Chemistry -->
                     <div class="subject-card interactive-card" style="transition-delay: 0.3s;">
                         <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22a7 7 0 00-7-7H2a1 1 0 00-1 1v4a1 1 0 001 1h3M12 22a7 7 0 017-7h3a1 1 0 011 1v4a1 1 0 01-1 1h-3M10.125 10.375A3.125 3.125 0 1113.875 6.625l2.5 8.375"></path><path d="M10.125 10.375a3.125 3.125 0 00-3.5 3.5M13.875 10.375a3.125 3.125 0 013.5 3.5M11 2L7 6M13 2l4 4"></path></svg>
                         <h3 class="text-2xl font-heading text-white">Chemistry</h3>
                     </div>
                     <!-- Subject 4: CS -->
                     <div class="subject-card interactive-card" style="transition-delay: 0.4s;">
                         <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M7 8l-4 4 4 4M17 8l4 4-4 4M14 4l-4 16"></path></svg>
                         <h3 class="text-2xl font-heading text-white">Computer Science</h3>
                     </div>
                 </div>
             </div>
         </section>
 
 
         <!-- SECTION 10: The "Invitation" (CTA) - REDESIGNED -->
         <section id="section-register" class="story-section text-center">
             <div id="register-card" class="interactive-card" data-scroll-anim>
                 <h2 class="text-5xl md:text-7xl font-bold text-white mb-6 text-hover-lift">
                     Become the <span class="text-gradient">First.</span>
                 </h2>
                 <p class="text-xl text-gray-300 mb-12">
                     Be the first to know when Pandora launches. Sign up for exclusive early access.
                 </pos>
                 <form id="register-form" class="max-w-lg mx-auto">
                     <div class="flex flex-col sm:flex-row gap-4">
                         <input type="email" id="email-input" placeholder="Enter your email" required
                                class="flex-1 px-5 py-4 rounded-lg focus:outline-none focus:ring-2 text-lg">
                         <button type="submit"
                                 class="btn-primary text-lg shadow-lg">
                             Notify Me
                         </button>
                     </div>
                 </form>
                 <div id="form-message" class="mt-6 text-lg"></div>
             </div>
         </section>
 
     </div> <!-- End #scroll-container -->
 
     <!-- Footer -->
     <footer class="py-12 bg-gray-900/50 relative z-20" data-scroll-anim>
         <div class="container mx-auto max-w-7xl px-6 text-center">
             <p class="text-gray-500">&copy; 2025 Pandora. All rights reserved.</p>
         </div>
     </footer>
     <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
     <script>
         document.addEventListener('DOMContentLoaded', () => {
 
             // --- 1. Three.js 3D SCENE SETUP ---
             const scene = new THREE.Scene();
             const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
             const renderer = new THREE.WebGLRenderer({ alpha: true });
             
             renderer.setSize(window.innerWidth, window.innerHeight);
             renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
             document.getElementById('three-canvas').appendChild(renderer.domElement);
 
             // --- Particle Canvas Setup ---
             const particleCanvas = document.getElementById('particle-canvas');
             const particleCtx = particleCanvas.getContext('2d');
             particleCanvas.width = window.innerWidth;
             particleCanvas.height = window.innerHeight;
 
             let particles = [];
             const particleCount = 100;
 
             for (let i = 0; i < particleCount; i++) {
                 particles.push({
                     x: Math.random() * particleCanvas.width,
                     y: Math.random() * particleCanvas.height,
                     vx: (Math.random() - 0.5) * 0.5,
                     vy: (Math.random() - 0.5) * 0.5,
                     size: Math.random() * 1.5 + 0.5,
                     opacity: Math.random() * 0.5 + 0.2
                 });
             }
 
             function drawParticles() {
                 particleCtx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);
                 particleCtx.fillStyle = 'rgba(215, 154, 61, 0.5)';
 
                 particles.forEach(p => {
                     particleCtx.globalAlpha = p.opacity;
                     particleCtx.beginPath();
                     particleCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                     particleCtx.fill();
 
                     p.x += p.vx;
                     p.y += p.vy;
 
                     if (p.x < 0 || p.x > particleCanvas.width) p.vx *= -1;
                     if (p.y < 0 || p.y > particleCanvas.height) p.vy *= -1;
                 });
 
                 requestAnimationFrame(drawParticles);
             }
             drawParticles();
 
             // Lighting (NEW PALETTE)
             const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
             scene.add(ambientLight);
             const pointLight = new THREE.PointLight(0x5EEBCC, 2, 20); // Bright Mint
             pointLight.position.set(0, 3, 5);
             scene.add(pointLight);
             const pointLight2 = new THREE.PointLight(0xD79A3D, 2, 20); // Rich Gold
             pointLight2.position.set(0, -3, -5);
             scene.add(pointLight2);
 
             // Core (NEW PALETTE)
             const coreGeometry = new THREE.SphereGeometry(0.5, 32, 32);
             const coreMaterial = new THREE.MeshStandardMaterial({
                 color: 0x5EEBCC,
                 emissive: 0x5EEBCC, 
                 emissiveIntensity: 3,
                 toneMapped: false, 
                 transparent: true,
                 opacity: 0
             });
             const core = new THREE.Mesh(coreGeometry, coreMaterial);
             
             // Shell (NEW PALETTE)
             const shellGeometry = new THREE.IcosahedronGeometry(1.5, 1);
             const shellMaterial = new THREE.MeshStandardMaterial({
                 color: 0xD79A3D, 
                 wireframe: true,
                 transparent: true,
                 opacity: 1
             });
             const shell = new THREE.Mesh(shellGeometry, shellMaterial);
 
             const pandoraBox = new THREE.Group();
             pandoraBox.add(core);
             pandoraBox.add(shell);
             scene.add(pandoraBox);
 
             // --- NEW 3D OBJECT: Torus Knot ---
             const torusKnotGeometry = new THREE.TorusKnotGeometry(1, 0.3, 100, 16);
             const torusKnotMaterial = new THREE.MeshStandardMaterial({
                 color: 0x5EEBCC,
                 wireframe: true,
                 transparent: true,
                 opacity: 0
             });
             const torusKnot = new THREE.Mesh(torusKnotGeometry, torusKnotMaterial);
             torusKnot.position.set(5, 0, 0); // Start off-screen
             scene.add(torusKnot);
 
             // --- NEW 3D OBJECT: Final Octahedron ---
             const finalOctahedronGeometry = new THREE.OctahedronGeometry(2, 0);
             const finalOctahedronMaterial = new THREE.MeshStandardMaterial({
                 color: 0xD79A3D,
                 emissive: 0xD79A3D,
                 emissiveIntensity: 1,
                 wireframe: true,
                 transparent: true,
                 opacity: 0
             });
             const finalOctahedron = new THREE.Mesh(finalOctahedronGeometry, finalOctahedronMaterial);
             scene.add(finalOctahedron);
 
              
             camera.position.z = 5;
 
             // --- 2. Mouse Interaction ---
             const mouse = new THREE.Vector2();
             window.addEventListener('mousemove', (event) => {
                 mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                 mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
             });
             
             // --- 3. NEW: Cursor Spotlight ---
             const spotlight = document.getElementById('cursor-spotlight');
             if (spotlight) {
                 window.addEventListener('mousemove', (e) => {
                     spotlight.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
                 });
             }
 
             // --- 4. NEW: Interactive 3D Tilt Cards ---
             const interactiveCards = document.querySelectorAll('.interactive-card');
             interactiveCards.forEach(card => {
                 card.addEventListener('mousemove', (e) => {
                     const rect = card.getBoundingClientRect();
                     const x = e.clientX - rect.left; // x position within the element.
                     const y = e.clientY - rect.top;  // y position within the element.
 
                     const centerX = rect.width / 2;
                     const centerY = rect.height / 2;
 
                     const rotateX = ((y - centerY) / centerY) * -7; // Max 7deg rotation
                     const rotateY = ((x - centerX) / centerX) * 7;  // Max 7deg rotation
 
                     card.style.setProperty('--rot-x', `${rotateX}deg`);
                     card.style.setProperty('--rot-y', `${rotateY}deg`);
 
                     // Update card glow
                     card.style.setProperty('--glow-x', `${x}px`);
                     card.style.setProperty('--glow-y', `${y}px`);
                 });
 
                 card.addEventListener('mouseleave', () => {
                     card.style.setProperty('--rot-x', '0deg');
                     card.style.setProperty('--rot-y', '0deg');
                 });
             });
 
             // --- 5. NEW: Text Hover Lift Animation ---
             document.querySelectorAll('.text-hover-lift').forEach(el => {
                 // Check if element is not empty and hasn't been processed
                 if (el.textContent.trim().length > 0 && el.childElementCount === 0) {
                     el.innerHTML = el.textContent.split('').map(letter => 
                         `<span style="transition-delay: ${Math.random() * 0.2}s">${letter === ' ' ? '&nbsp;' : letter}</span>`
                     ).join('');
                 }
             });
 
             // --- 6. SCROLL-BASED ANIMATION HANDLER (REBUILT & STABLE) ---
             let vh = window.innerHeight; // <--- FIX: Changed from const to let
             const heroText1 = document.getElementById('hero-text-1');
             const unlockText = document.getElementById('unlock-text');
             const manimGraph = document.getElementById('manim-graph');
             const horizontalContainer = document.getElementById('horizontal-container');
             const horizontalContent = document.querySelector('.horizontal-content');
             const bodyGlow = document.documentElement.style; // Use documentElement.style for CSS vars
 
             // Get all sections
             const sections = {
                 problem: document.getElementById('section-problem'),
                 key: document.getElementById('section-key'),
                 clarity: document.getElementById('section-clarity'),
                 mission: document.getElementById('section-mission'),
                 pillar1: document.getElementById('section-pillar1'),
                 pillar2: document.getElementById('section-pillar2'),
                 how: document.getElementById('section-how'),
                 hub: document.getElementById('horizontal-container'), // Note: 'hub' is the horizontal container
                 subjects: document.getElementById('section-subjects'),
                 register: document.getElementById('section-register')
             };
 
             let sectionOffsets = {};
             function updateSectionOffsets() {
                 for (const key in sections) {
                     if (sections[key]) {
                         sectionOffsets[key] = sections[key].offsetTop;
                     }
                 }
             }
             updateSectionOffsets(); // Initial call
 
             function lerp(start, end, t) {
                 return start * (1 - t) + end * t;
             }
 
                          function onScroll() {
                 const scrollY = window.scrollY;
                 
                 // Helper to get progress 0-1 within a section
                 function getSectionProgress(startSection, endSection) {
                     const start = sectionOffsets[startSection] || 0;
                     const end = sectionOffsets[endSection] || (start + vh);
                     const clampedScroll = Math.max(start, Math.min(scrollY, end));
                     return (clampedScroll - start) / (end - start);
                 }
                 
                 // Helper for progress over a single section's height (100vh)
                 function getProgress(sectionKey) {
                     const start = sectionOffsets[sectionKey] || 0;
                     if (scrollY < start) return 0;
                     if (scrollY > start + vh) return 1;
                     return (scrollY - start) / vh;
                 }
                 
                 // --- 1. Hero Text Fade & Unlock Animation ---
                 const problemProgress = getProgress('problem');
                 if (heroText1) heroText1.style.opacity = 1 - (problemProgress * 2);
 
                 if (unlockText) {
                     if (problemProgress > 0.5) {
                         if (unlockText.textContent === 'locked.') {
                             unlockText.textContent = 'unlocked.';
                         }
                     } else {
                         if (unlockText.textContent === 'unlocked.') {
                             unlockText.textContent = 'locked.';
                         }
                     }
                 }
                 
                 // --- 2. 3D Object Animation (State Machine) ---
                 
                 let x = 0, y = 0, z = 0;
                 let coreOpacity = 0, shellOpacity = 1;
                 let coreScale = 0, shellScale = 1;
                 let manimOpacity = 0, manimTransform = 20;
                 let glowColor = 'rgba(215, 154, 61, 0.1)'; // Default Gold
                 let torusKnotOpacity = 0;
                 let finalOctahedronOpacity = 0;
                 
                 if (scrollY >= sectionOffsets.key && scrollY < sectionOffsets.clarity) {
                     const progress = getSectionProgress('key', 'clarity');
                     x = lerp(0, -2, progress);
                     z = lerp(0, -2, progress);
                 } 
                 else if (scrollY >= sectionOffsets.clarity && scrollY < sectionOffsets.mission) {
                     const progress = getSectionProgress('clarity', 'mission');
                     x = -2; z = -2; // Hold position
                     shellOpacity = 1 - progress;
                     shellScale = 1 + progress;
                     coreOpacity = progress;
                     coreScale = progress;
                     manimOpacity = progress;
                     manimTransform = 20 * (1 - progress);
                     glowColor = `rgba(94, 235, 204, ${0.1 + progress * 0.2})`; // To Mint
                 }
                 else if (scrollY >= sectionOffsets.mission && scrollY < sectionOffsets.pillar1) {
                     const progress = getSectionProgress('mission', 'pillar1');
                     x = lerp(-2, 0, progress); // Center
                     y = lerp(0, 0, progress);
                     z = lerp(-2, 0, progress); // Center
                     coreOpacity = 1; shellOpacity = 0; coreScale = 1; shellScale = 2; // Hold 'open' state
                     glowColor = 'rgba(94, 235, 204, 0.3)'; // Hold Mint
                 }
                 else if (scrollY >= sectionOffsets.pillar1 && scrollY < sectionOffsets.pillar2) {
                     const progress = getSectionProgress('pillar1', 'pillar2');
                     x = lerp(0, -3, progress); // Move left
                     y = lerp(0, 2, progress);  // Move up
                     z = 0;
                     coreOpacity = 1; shellOpacity = 0; coreScale = 1; shellScale = 2; 
                 }
                 else if (scrollY >= sectionOffsets.pillar2 && scrollY < sectionOffsets.how) {
                     const progress = getSectionProgress('pillar2', 'how');
                     x = lerp(-3, 3, progress); // Move right
                     y = 2;
                     z = 0;
                     coreOpacity = 1; shellOpacity = 0; coreScale = 1; shellScale = 2; 
                     
                 }
                 else if (scrollY >= sectionOffsets.how && scrollY < sectionOffsets.hub) {
                     const progress = getSectionProgress('how', 'hub');
                     x = lerp(3, 0, progress); // Center
                     y = lerp(2, 0, progress); // Center
                     z = 0;
                     coreOpacity = 1; shellOpacity = 0; coreScale = 1; shellScale = 2; 
                     
                 }
                 else if (scrollY >= sectionOffsets.hub && scrollY < sectionOffsets.subjects) {
                     const hubHeight = horizontalContainer.clientHeight;
                     const hubProgress = (scrollY - sectionOffsets.hub) / (hubHeight - vh);
                     
                     x = lerp(0, 3, hubProgress); // Move top right
                     y = lerp(0, 2, hubProgress);
                     z = 0;
                     coreOpacity = 1; shellOpacity = 0; coreScale = 1; shellScale = 2; 
                     
                     // Horizontal scroll
                     const translateX = -hubProgress * (horizontalContent.scrollWidth - window.innerWidth);
                     horizontalContent.style.transform = `translateX(${translateX}px)`;
                 }
                 else if (scrollY >= sectionOffsets.subjects && scrollY < sectionOffsets.register) {
                                     const progress = getSectionProgress('subjects', 'register');
                                     x = lerp(3, 0, progress); // Center
                                     y = lerp(2, 0, progress); // Center
                                     z = 0;
                                     coreOpacity = 1 - progress;
                                     shellOpacity = progress;
                                     coreScale = 1 - progress;
                                     shellScale = 1 + progress;
                                     finalOctahedronOpacity = 0; 
                                 }                else if (scrollY >= sectionOffsets.register) {
                     const progress = Math.min(1, (scrollY - sectionOffsets.register) / vh);
                     x = 0; y = 0; z = 0;
                     shellOpacity = 1 - progress;
                     shellScale = 1 + progress;
                     coreOpacity = 0;
                     finalOctahedronOpacity = progress;
                     finalOctahedron.rotation.y = lerp(0, Math.PI, progress);
                     glowColor = `rgba(215, 154, 61, ${0.15 + progress * 0.3})`; // Back to Gold
                    }

                 // Apply 3D object properties
                 pandoraBox.position.x = x;
                 pandoraBox.position.y = y;
                 pandoraBox.position.z = z;
                 
                 core.material.opacity = coreOpacity;
                 core.scale.set(coreScale, coreScale, coreScale);
                 shell.material.opacity = shellOpacity;
                 shell.scale.set(shellScale, shellScale, shellScale);
                 torusKnot.material.opacity = torusKnotOpacity;
                 finalOctahedron.material.opacity = finalOctahedronOpacity;
                 
                 if (manimGraph) {
                     manimGraph.style.opacity = manimOpacity;
                     manimGraph.style.transform = `translateY(${manimTransform}px)`;
                 }
 
                 // Apply body glow
                 bodyGlow.setProperty('--glow-color', glowColor);
                 const glowX = (x * 10) + 50;
                 const glowY = (-y * 10) + 50;
                 bodyGlow.setProperty('--glow-x', `${glowX}%`);
                 bodyGlow.setProperty('--glow-y', `${glowY}%`);
             }
 
             window.addEventListener('scroll', onScroll, { passive: true });
             onScroll(); // Initial call
 
             // --- 7. PROMPT TYPING ANIMATION ---
             const promptTextElement = document.getElementById('prompt-text');
             if (promptTextElement) {
                 const textToType = "Explain the derivation of the area under a parabola...";
                 let index = 0;
                 function type() {
                     if (index < textToType.length) {
                         promptTextElement.textContent += textToType.charAt(index);
                         index++;
                         setTimeout(type, 80); 
                     }
                 }
                 const typeObserver = new IntersectionObserver((entries) => {
                     if (entries[0].isIntersecting) {
                         if (index === 0) { setTimeout(type, 500); }
                     }
                 }, { threshold: 0.5 });
                 typeObserver.observe(sections.key);
             }
 
            // Initialize EmailJS
            (function() {
            emailjs.init({
                publicKey: "1jmIQ6VTT2OvOWD0s" // Your EmailJS public key
            });
            })();

            // Handle form submission
            const registerForm = document.getElementById('register-form');
            const formMessage = document.getElementById('form-message');
            const emailInput = document.getElementById('email-input');

            if (registerForm) {
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const email = emailInput.value.trim();

                if (email && email.includes('@')) {
                // Disable button during send
                const button = registerForm.querySelector('button');
                button.disabled = true;
                button.textContent = "Sending...";

                // Send email via EmailJS
                emailjs.send("service_3o5mgc3", "template_2eu9oud", {
                    email: email
                })
                .then(() => {
                    formMessage.textContent = " Thank you! Youre on the early access list.";
                    formMessage.className = "mt-6 text-lg text-green-400";
                    emailInput.value = "";
                    button.textContent = "Submitted!";
                })
                .catch((error) => {
                    formMessage.textContent = " Something went wrong. Please try again.";
                    formMessage.className = "mt-6 text-lg text-red-400";
                    console.error("EmailJS error:", error);
                    button.disabled = false;
                    button.textContent = "Notify Me";
                });
                } else {
                formMessage.textContent = "Please enter a valid email address.";
                formMessage.className = "mt-6 text-lg text-red-400";
                }
            });
            }
            
             // --- 9. FADE-IN-ON-SCROLL OBSERVER ---
             const scrollObserver = new IntersectionObserver((entries) => {
                 entries.forEach((entry) => {
                     if (entry.isIntersecting) {
                         entry.target.dataset.scrollAnim = 'visible';
                     }
                 });
             }, { threshold: 0.1 }); 
             document.querySelectorAll('[data-scroll-anim]').forEach((el) => {
                 scrollObserver.observe(el);
             });
 
             // --- 10. RENDER LOOP (for 3D) ---
             const clock = new THREE.Clock(); // Create clock for animations
             function animate() {
                 requestAnimationFrame(animate);
                 const elapsedTime = clock.getElapsedTime();
 
                 // New: Passive float rotation
                 shell.rotation.x = Math.sin(elapsedTime * 0.1) * 0.2;
                 shell.rotation.y = Math.cos(elapsedTime * 0.1) * 0.2;
                 core.rotation.y = elapsedTime * 0.2;
                 torusKnot.rotation.x = elapsedTime * 0.1;
                 torusKnot.rotation.y = elapsedTime * 0.1;
                 finalOctahedron.rotation.y = elapsedTime * 0.1;
 
                 // Mouse look rotation
                 let targetRotX = mouse.y * Math.PI * 0.1;
                 let targetRotY = mouse.x * Math.PI * 0.1;
                 
                 pandoraBox.rotation.x = lerp(pandoraBox.rotation.x, targetRotX, 0.05);
                 pandoraBox.rotation.y = lerp(pandoraBox.rotation.y, targetRotY, 0.05);
 
                 renderer.render(scene, camera);
             }
             animate();
             
             // --- 11. Handle Window Resize ---
             window.addEventListener('resize', () => {
                 // Update vh
                 vh = window.innerHeight;
                 
                 // Update camera
                 camera.aspect = window.innerWidth / window.innerHeight;
                 camera.updateProjectionMatrix();
                 
                 // Update renderer
                 renderer.setSize(window.innerWidth, window.innerHeight);
                 renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
 
                 // Update particle canvas
                 particleCanvas.width = window.innerWidth;
                 particleCanvas.height = window.innerHeight;
                 
                 // Re-calculate section positions and re-run scroll logic
                 updateSectionOffsets();
                 onScroll();
             });
 
         });
     </script>
 
 </body>
 </html>